{
  "hash": "8e3b8b66f7c403a7d78fcdcd32ab6df7",
  "result": {
    "engine": "knitr",
    "markdown": "# Vaccine performance\n\n## Vaccine efficacy\n\n::: {#def-vec}\nEfficacy is the **percentage reduction** in the **disease rate** (or **infection risk** [@shim2012]) among vaccinated individuals compared to **similar** unvaccinated individuals [@verani2017].\n:::\n\n## Vaccine effectiveness\n\n::: {#def-vet}\nEffectiveness is the **percentage reduction** in the **disease rate** (or **infection risk** [@shim2012]) among vaccinated individuals compared to unvaccinated individuals, similar to efficacy, but in **real-world** conditions [@verani2017].\n:::\n\nVaccine effectiveness is categorized into 4 types:\n\n1.  Direct\n2.  Indirect\n3.  Total\n4.  Overall\n\nLet $R_v$ be the infection risk in the vaccinated group and $R_u$ be the infection risk in the unvaccinated group.\n\nThe absolute reduction in infection risk due to vaccination is $R_u - R_v$.\n\nVaccine efficacy or effectiveness $VE$ is the **percentage reduction** in infection risk, so we divide the absolute reduction by the infection risk of the unvaccinated group.\n\n$$\\begin{align} VE &= \\frac{R_u - R_v}{R_u} \\\\ &= 1 - \\frac{R_v}{R_u} \\\\ &= 1 - \\text{Relative risk} \\end{align}$$\n\nLet have an example:\n\n![](img/vax/trial.png)\n\n-   In the control group, the infection risk is $\\frac{4}{8}$ as 4 out of 8 people are infected.\n-   In the vaccinated group, the infection risk is $\\frac{1}{8}$ as 1 person is infected among 8 people.\n\n$$VE = \\frac{\\frac{4}{8} - \\frac{1}{8}}{\\frac{4}{8}} = \\frac{4 - 1}{4} = \\frac{3}{4} = 0.75$$\n\nWhile 4 people get infected without vaccination, only 1 would get infected if they were vaccinated. The vaccine can prevent 3 of these infections. So the vaccine efficacy is $\\frac{3}{4}$ or 75%.\n\n## Measure vaccine effectiveness\n\n### Screening method\n\n1. We have data of all or **a random sample** of disease **cases** over a given period in a population, from which we know the proportion vaccinated ($PCV$) of these cases.\n\n2. We also know the proportion of the **population** vaccinated ($PPV$).\n\nThen the vaccine effectiveness ($VE$) is calculated as:\n\n$$\\begin{align} VE &= 1 - \\frac{\\frac{PCV}{1 - PCV}}{\\frac{PPV}{1 - PPV}} = 1 - \\frac{PCV}{1 - PCV} \\times \\frac{1 - PPV}{PPV} \\\\\n&= \\frac{PPV(1 - PCV) - PCV(1 - PPV)}{PPV(1 - PCV)} \\\\\n&= \\frac{PPV - PPV \\times PCV - PCV + PCV \\times PPV}{PPV(1 - PCV)} \\\\\n&= \\frac{PPV - PCV}{PPV(1 - PCV)} \\end{align}$$\n\nIn which:\n\n- $\\frac{PCV}{1 - PCV}$ is the odd of vaccination in disease cases group.\n- $\\frac{PPV}{1 - PPV}$ is the odd of vaccination in the population.\n- $\\frac{\\frac{PCV}{1 - PCV}}{\\frac{PPV}{1 - PPV}} = \\frac{PCV}{1 - PCV} \\times \\frac{1 - PPV}{PPV}$ is the odds ratio of vaccination between 2 groups (cases vs population).\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbirth_cohort <- c(1980:1986)\ncases <- c(82, 98, 180, 177, 112, 140, 151)\nvac <- c(5, 9, 28, 37, 22, 27, 27)\ncov <- c(70, 70.9, 76, 81, 83.7, 84.5, 83.1)\ndf <- data.frame(birth_cohort, cases, vac, cov)\ndf\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"birth_cohort\"],\"name\":[1],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"cases\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"vac\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"cov\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"1980\",\"2\":\"82\",\"3\":\"5\",\"4\":\"70.0\"},{\"1\":\"1981\",\"2\":\"98\",\"3\":\"9\",\"4\":\"70.9\"},{\"1\":\"1982\",\"2\":\"180\",\"3\":\"28\",\"4\":\"76.0\"},{\"1\":\"1983\",\"2\":\"177\",\"3\":\"37\",\"4\":\"81.0\"},{\"1\":\"1984\",\"2\":\"112\",\"3\":\"22\",\"4\":\"83.7\"},{\"1\":\"1985\",\"2\":\"140\",\"3\":\"27\",\"4\":\"84.5\"},{\"1\":\"1986\",\"2\":\"151\",\"3\":\"27\",\"4\":\"83.1\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\ndf$pcv <- df$vac/df$cases\ndf$ppv <- df$cov / 100\ndf$rr <- (df$pcv / (1 - df$pcv)) / (df$ppv / (1 - df$ppv))\nlm(rr ~ birth_cohort, data = df)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nlm(formula = rr ~ birth_cohort, data = df)\n\nCoefficients:\n (Intercept)  birth_cohort  \n   -3.029905      0.001551  \n```\n\n\n:::\n\n```{.r .cell-code}\n1 - exp(-3.029905)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.9516798\n```\n\n\n:::\n:::\n\n\n## Vaccine impact\n\n::: {#def-vi}\nImpact quantifies the reduction in **disease rate** (either percentage decline or absolute change in disease rate) at the **population level** after vaccine introduction. It is determined by: (1) vaccine effectiveness, (2) vaccine coverage and (3) herd immunity [@verani2017].\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}